/* Paleta sobria inspirada en la psicología del sueño: azules profundos, violeta y gris suave */
:root{
  --bg:#0f1720; /* muy oscuro */
  --card:#0f2430; /* azul profundo */
  --muted:#9aa6b2;
  --accent:#6c5b7b; /* violeta apagado */
  --accent-2:#2b6f77; /* verde-azulado */
  --glass: rgba(255,255,255,0.04);
  --max-width:1100px;
}

*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; color:#e6eef6;
  /* Degradado global: azul marino + tonos del tema */
  background: linear-gradient(135deg, #021124 0%, #071026 30%, var(--bg) 65%, #081427 100%);
  background-attachment: fixed;
}

.topnav{position:sticky;top:0;z-index:100;background:linear-gradient(180deg, rgba(15,23,32,0.95), rgba(15,23,32,0.85));backdrop-filter:blur(6px);border-bottom:1px solid rgba(255,255,255,0.03)}
.topnav .nav-inner{max-width:var(--max-width);margin:0 auto;display:flex;align-items:center;justify-content:space-between;padding:12px 20px}
.topnav .brand{font-weight:700;color:var(--accent);text-decoration:none;font-size:1.05rem}
.topnav .nav-links{list-style:none;margin:0;padding:0;display:flex;gap:18px}
.topnav .nav-links a{color:var(--muted);text-decoration:none;padding:8px 12px;border-radius:8px;transition:all .25s}
.topnav .nav-links a:hover{color:#fff;background:linear-gradient(90deg, rgba(108,91,123,0.12), rgba(43,111,119,0.06));transform:translateY(-3px)}

/* nav-toggle (hamburger) */
.nav-toggle{background:transparent;border:0;color:var(--muted);display:none;padding:8px;border-radius:6px}
.nav-toggle:focus{outline:2px solid rgba(255,255,255,0.06)}
.hamburger{width:20px;height:2px;background:var(--muted);display:block;position:relative}
.hamburger::before,.hamburger::after{content:"";position:absolute;left:0;width:20px;height:2px;background:var(--muted);transition:transform .2s}
.hamburger::before{top:-6px}
.hamburger::after{top:6px}

/* small card and spacing polish */
section{padding:26px}
.post-title{margin-bottom:8px}
.container{padding-bottom:28px}

.site-hero{padding:36px 0 8px}
.site-hero .hero-inner{max-width:var(--max-width);margin:0 auto;padding:18px 20px}
.site-hero h1{margin:0;font-size:2rem;color:#f6f7fb;letter-spacing:0.2px}
.site-hero .tagline{color:var(--muted);margin-top:8px}

.index-nav{max-width:var(--max-width);margin:12px auto;padding:6px 20px;display:flex;gap:12px;align-items:center}
.index-nav .index-label{color:var(--muted);margin-right:8px}
.index-nav ul{display:flex;gap:12px;list-style:none;margin:0;padding:0}
.index-nav a{color:var(--muted);text-decoration:none;border-left:1px solid rgba(255,255,255,0.02);padding-left:12px}

.container{max-width:var(--max-width);margin:18px auto;padding:0 20px}
main{display:block}
/* Secciones ahora con 'glass' sutil para permitir el degradado de fondo global */
section{background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); padding:22px;border-radius:12px;margin-bottom:18px;box-shadow:0 6px 18px rgba(2,6,23,0.5);transition:transform .35s, box-shadow .35s;backdrop-filter: blur(6px);border:1px solid rgba(255,255,255,0.03)}
section:hover{transform:translateY(-6px);box-shadow:0 18px 48px rgba(2,6,23,0.6)}
.post-title{color:#f8f9fb;margin-top:0}
.post-img{border-radius:8px;filter:contrast(.95) saturate(.9);max-width:100%;height:auto;display:block}

/* Desktop: usar float para que el texto envuelva la imagen a la derecha (texto integrado) */
@media (min-width:900px){
  main .container > section{display:block}
  /* imagen alineada a la derecha (tamaño preferido para artículos) */
  main .container > section .post-img.align-right{float:right;margin:0 0 12px 18px;border-radius:10px}
  /* imagen alineada a la izquierda */
  main .container > section .post-img.align-left{float:left;margin:0 18px 12px 0;border-radius:10px}

  /* image size utilities */
  .img-lg{width:420px}
  .img-md{width:320px}
  .img-sm{width:160px}
  /* asegurar que párrafos y otros bloques fluyan alrededor de la imagen */
  main .container > section p, main .container > section dl, main .container > section pre, main .container > section blockquote{overflow-wrap:break-word}
  /* clearfix para encerrar floats */
  main .container > section::after{content:"";display:table;clear:both}
}

blockquote{border-left:3px solid rgba(108,91,123,0.25);padding-left:12px;color:var(--muted);font-style:italic}
pre{background:var(--glass);padding:12px;border-radius:8px;color:var(--muted);overflow:auto}

.aside-card{padding:18px}
table{width:100%;border-collapse:collapse;color:var(--muted)}
caption h3{margin:0;color:var(--accent)}
td,th{padding:12px;border:1px solid rgba(255,255,255,0.04);vertical-align:top}

/* Presentation for footer icons and experiment thumbnail moved to CSS */
.center-thumb img{display:block;max-width:80px;width:100%;height:auto;border-radius:6px}
.referencias img{width:80px;height:80px;object-fit:cover}

/* table subtle border for better contrast */
table{border:1px solid rgba(255,255,255,0.03)}

.referencias{display:flex;gap:18px;justify-content:center;align-items:center}
.referencias a{display:flex;flex-direction:column;align-items:center;text-decoration:none;color:var(--muted);gap:6px;padding:8px}
.referencias img{border-radius:8px;box-shadow:0 6px 18px rgba(0,0,0,0.6)}

footer{max-width:var(--max-width);margin:18px auto;padding:18px 20px;color:var(--muted)}

/* Animaciones iniciales y utilidades */
.reveal{opacity:0;transform:translateY(12px);transition:opacity .7s ease, transform .7s cubic-bezier(.2,.9,.2,1)}
.reveal.visible{opacity:1;transform:none}

/* Responsive */
@media (max-width:900px){
  /* Images stack and take full width on small screens */
  .post-img{float:none;width:100%;margin:12px 0}

  /* Show hamburger button and hide inline nav links by default */
  .nav-toggle{display:block}
  .topnav .nav-links{display:none; /* default hidden, JS toggles inline style */
    position:absolute;right:20px;top:64px;z-index:120; background:linear-gradient(180deg, rgba(15,23,32,0.98), rgba(15,23,32,0.96)); padding:12px;border-radius:10px;box-shadow:0 6px 24px rgba(2,6,23,0.6);max-width:calc(100% - 40px);}

  /* Mobile: stack nav items vertically when visible */
  .topnav .nav-links{flex-direction:column;gap:8px}
  .topnav .nav-links a{padding:8px 10px}

  /* Ensure sections stack cleanly */
  main .container > section{display:block}

  /* Slightly smaller hero on narrow screens */
  .site-hero h1{font-size:1.4rem}

  /* Reduce container horizontal padding on small devices */
  .container{padding:0 12px}

  /* Index navigation should wrap on small screens */
  .index-nav{flex-wrap:wrap}

  /* Allow tables to scroll horizontally so layout doesn't break */
  .aside-card{overflow-x:auto}
}

/* Centrar la miniatura del experimento en la celda */
.center-thumb{display:flex;align-items:center;justify-content:center;flex-direction:column;text-align:center;padding:6px}
.center-thumb img{display:block;max-width:80px;width:100%;height:auto;border-radius:6px}

/* accessibility helper */
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0 0 0 0);white-space:nowrap;border:0}

/* pequeños toques tipográficos */
h2{font-size:1.35rem}
p,li,dd{line-height:1.5;color:#d7e6f2}

/* accesibilidad: foco visible */
a:focus{outline:2px dashed #7a6a8a;outline-offset:3px}
